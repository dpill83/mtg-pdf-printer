{"ast":null,"code":"import _objectSpread from\"C:/MTG/mtg-pdf-printer/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import DeckInput from'./components/DeckInput';import CardGrid from'./components/CardGrid';import PrintOptions from'./components/PrintOptions';import{parseDecklist,fetchMultipleCards,fetchAllPrintings}from'./utils/scryfall';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[cards,setCards]=useState([]);const[loading,setLoading]=useState(false);const[loadingProgress,setLoadingProgress]=useState({current:0,total:0,message:''});const[generatingPDF,setGeneratingPDF]=useState(false);const[errors,setErrors]=useState([]);const[decklistText,setDecklistText]=useState('');// Print options state - moved from inline controls to centralized state\nconst[cropMarks,setCropMarks]=useState(true);const[cutLines,setCutLines]=useState(false);const[blackCorners,setBlackCorners]=useState(true);const[skipBasicLands,setSkipBasicLands]=useState(false);const[printDecklist,setPrintDecklist]=useState(false);const[playtestWatermark,setPlaytestWatermark]=useState(false);const[paperSize,setPaperSize]=useState('letter');const[scale,setScale]=useState('100');const[aboutOpen,setAboutOpen]=useState(false);const[faqOpen,setFaqOpen]=useState(false);const[feedbackOpen,setFeedbackOpen]=useState(false);// Paper size options (expanded and unified)\nconst paperSizes=[{value:'a4',label:'A4 (21.0x29.7 cm)',width:21.0,height:29.7,unit:'cm'},{value:'a3',label:'A3 (42.0x29.7 cm)',width:42.0,height:29.7,unit:'cm'},{value:'letter',label:'Letter (8.5x11.0 in)',width:8.5,height:11.0,unit:'in'},{value:'legal',label:'Legal (14.0x8.5 in)',width:14.0,height:8.5,unit:'in'},{value:'archA',label:'Arch A (9.0x12.0 in)',width:9.0,height:12.0,unit:'in'},{value:'archB',label:'Arch B (18.0x12.0 in)',width:18.0,height:12.0,unit:'in'},{value:'superB',label:'Super B (13.0x19.0 in)',width:13.0,height:19.0,unit:'in'},{value:'tabloid',label:'Tabloid (11.0x17.0 in)',width:11.0,height:17.0,unit:'in'},{value:'4r',label:'4R (10.2x15.2 cm)',width:10.2,height:15.2,unit:'cm'}];const handleDeckSubmit=async decklistText=>{setLoading(true);setErrors([]);setCards([]);try{// Parse the decklist\nconst parsedCards=parseDecklist(decklistText);if(parsedCards.length===0){setErrors(['No valid cards found in the decklist. Please check the format.']);setLoading(false);return;}// Fetch card data from Scryfall with progress tracking\nsetLoadingProgress({current:0,total:parsedCards.length,message:'Starting to load cards...'});const{results,errors:fetchErrors}=await fetchMultipleCards(parsedCards,setLoadingProgress);if(results.length===0){setErrors(['No cards could be found. Please check the card names and try again.']);setLoading(false);return;}// For each card, fetch all printings and set up the card object\nsetLoadingProgress({current:0,total:results.length,message:'Loading card printings...'});const cardsWithPrintings=await Promise.all(results.map(async(card,idx)=>{// Update progress for printings phase\nsetLoadingProgress({current:idx+1,total:results.length,message:\"Loading printings for \".concat(card.name,\"...\")});let printings=[];try{if(card.prints_search_uri){printings=await fetchAllPrintings(card.prints_search_uri);}}catch(e){printings=[];}// Default to the originally loaded card\nconst selectedPrinting=printings.find(p=>p.set_name===card.set&&p.collector_number===card.collectorNumber)||printings[0];const cardWithPrintings=_objectSpread(_objectSpread({},card),{},{printings:printings.map(p=>({id:p.id,set_name:p.set_name,collector_number:p.collector_number,released_at:p.released_at,imageUrl:p.imageUrl,backImageUrl:p.backImageUrl,isDoubleFaced:p.isDoubleFaced,frontName:p.frontName,backName:p.backName})),selectedPrintingId:selectedPrinting?selectedPrinting.id:null});return cardWithPrintings;}));// Use direct Scryfall URLs\nconst finalCards=cardsWithPrintings.map(card=>{const selected=card.printings.find(p=>p.id===card.selectedPrintingId)||card.printings[0];const imageUrl=selected&&selected.imageUrl?selected.imageUrl:card.imageUrl;const backImageUrl=selected&&selected.backImageUrl?selected.backImageUrl:card.backImageUrl;const isDoubleFaced=selected?selected.isDoubleFaced:card.isDoubleFaced;const frontName=selected?selected.frontName:card.frontName;const backName=selected?selected.backName:card.backName;return _objectSpread(_objectSpread({},card),{},{imageUrl:imageUrl,backImageUrl:backImageUrl,isDoubleFaced:isDoubleFaced,frontName:frontName,backName:backName});});setCards(finalCards);// Update decklistText to match the canonical preview\nconst canonicalDecklist=finalCards.map(card=>{var _card$printings$,_card$printings$2;const qty=card.quantity||1;const name=card.name;const setCode=card.setCode||card.set||card.printings&&((_card$printings$=card.printings[0])===null||_card$printings$===void 0?void 0:_card$printings$.set)||'';const collectorNumber=card.collectorNumber||card.printings&&((_card$printings$2=card.printings[0])===null||_card$printings$2===void 0?void 0:_card$printings$2.collector_number)||'';let line=\"\".concat(qty,\"x \").concat(name);if(setCode&&collectorNumber){line+=\" (\".concat(setCode,\") \").concat(collectorNumber);}else if(setCode){line+=\" (\".concat(setCode,\")\");}else if(collectorNumber){line+=\" \".concat(collectorNumber);}return line;}).join('\\n');setDecklistText(canonicalDecklist);if(fetchErrors.length>0){setErrors(fetchErrors);}}catch(error){setErrors([\"Error loading cards: \".concat(error.message)]);}finally{setLoading(false);setLoadingProgress({current:0,total:0,message:''});}};// Handler for when a user selects a different printing\nconst handleSelectPrinting=(cardIdx,printingId)=>{setCards(prevCards=>prevCards.map((card,idx)=>{if(idx!==cardIdx)return card;const selected=card.printings.find(p=>p.id===printingId)||card.printings[0];const imageUrl=selected&&selected.imageUrl?selected.imageUrl:card.imageUrl;const backImageUrl=selected&&selected.backImageUrl?selected.backImageUrl:card.backImageUrl;const isDoubleFaced=selected?selected.isDoubleFaced:card.isDoubleFaced;const frontName=selected?selected.frontName:card.frontName;const backName=selected?selected.backName:card.backName;return _objectSpread(_objectSpread({},card),{},{selectedPrintingId:selected.id,imageUrl:imageUrl,backImageUrl:backImageUrl,isDoubleFaced:isDoubleFaced,frontName:frontName,backName:backName});}));// Update decklistText to match the new printings\nsetDecklistText(prev=>{const updatedCards=cards.map((card,idx)=>{if(idx!==cardIdx)return card;const selected=card.printings.find(p=>p.id===printingId)||card.printings[0];return _objectSpread(_objectSpread({},card),{},{selectedPrintingId:selected.id,imageUrl:selected&&selected.imageUrl?selected.imageUrl:card.imageUrl,backImageUrl:selected&&selected.backImageUrl?selected.backImageUrl:card.backImageUrl,isDoubleFaced:selected?selected.isDoubleFaced:card.isDoubleFaced,frontName:selected?selected.frontName:card.frontName,backName:selected?selected.backName:card.backName,setCode:selected.set,collectorNumber:selected.collector_number});});return updatedCards.map(card=>{var _card$printings$3,_card$printings$4;const qty=card.quantity||1;const name=card.name;const setCode=card.setCode||card.set||card.printings&&((_card$printings$3=card.printings[0])===null||_card$printings$3===void 0?void 0:_card$printings$3.set)||'';const collectorNumber=card.collectorNumber||card.printings&&((_card$printings$4=card.printings[0])===null||_card$printings$4===void 0?void 0:_card$printings$4.collector_number)||'';let line=\"\".concat(qty,\"x \").concat(name);if(setCode&&collectorNumber){line+=\" (\".concat(setCode,\") \").concat(collectorNumber);}else if(setCode){line+=\" (\".concat(setCode,\")\");}else if(collectorNumber){line+=\" \".concat(collectorNumber);}return line;}).join('\\n');});};const handleGeneratePDF=async()=>{if(cards.length===0){setErrors(['No cards to generate PDF for. Please load a decklist first.']);return;}setGeneratingPDF(true);setErrors([]);try{const paper=paperSizes.find(p=>p.value===paperSize)||paperSizes[0];const response=await fetch('/api/generate-pdf',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({cards,paper,scale:Number(scale),options:{cropMarks,cutLines,blackCorners,skipBasicLands,printDecklist,playtestWatermark}})});if(!response.ok)throw new Error('Failed to generate PDF');const blob=await response.blob();const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download='mtg-deck.pdf';document.body.appendChild(link);link.click();document.body.removeChild(link);URL.revokeObjectURL(url);}catch(error){setErrors([\"Error generating PDF: \".concat(error.message)]);}finally{setGeneratingPDF(false);}};// Spinner component for PDF generation\nfunction Spinner(){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',margin:'24px 0'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",style:{width:32,height:32,border:'4px solid #e0e0e0',borderTop:'4px solid #764ba2',borderRadius:'50%',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12,fontSize:18,color:'#764ba2',fontWeight:600},children:\"Generating PDF...\"})]});}// Add one to card quantity and update decklist text\nconst handleAddOne=cardIdx=>{setCards(prevCards=>prevCards.map((card,idx)=>{if(idx!==cardIdx)return card;return _objectSpread(_objectSpread({},card),{},{quantity:(card.quantity||1)+1});}));// Update decklist text\nsetDecklistText(prevText=>{const lines=prevText.split('\\n');const card=cards[cardIdx];if(!card)return prevText;// Try to find a line that matches this card (by name, set, collector number)\nconst matchIdx=lines.findIndex(line=>{// Accepts lines like '2x Card Name (SET) 123', '2 Card Name', etc.\nconst regex=new RegExp(\"^\\\\s*\\\\d+x?\\\\s+\".concat(card.name.replace(/[.*+?^${}()|[\\]\\\\]/g,'\\\\$&'),\"(\\\\s*\\\\([^)]+\\\\))?(\\\\s+\").concat(card.collectorNumber,\")?\"),'i');return regex.test(line);});if(matchIdx!==-1){// Increment the quantity in the matched line\nconst line=lines[matchIdx];const parts=line.match(/^(\\s*)(\\d+)(x?)\\s+(.+)$/);if(parts){const[,pre,qty,x,rest]=parts;const newQty=parseInt(qty,10)+1;lines[matchIdx]=\"\".concat(pre).concat(newQty).concat(x,\" \").concat(rest);}}else{// Add a new line for this card\nlines.push(\"1 \".concat(card.name));}return lines.join('\\n');});};// Remove one from card quantity and update decklist text\nconst handleRemoveOne=cardIdx=>{setCards(prevCards=>prevCards.map((card,idx)=>{if(idx!==cardIdx)return card;const newQuantity=Math.max(1,(card.quantity||1)-1);return _objectSpread(_objectSpread({},card),{},{quantity:newQuantity});}));// Update decklist text\nsetDecklistText(prevText=>{const lines=prevText.split('\\n');const card=cards[cardIdx];if(!card)return prevText;// Try to find a line that matches this card (by name, set, collector number)\nconst matchIdx=lines.findIndex(line=>{// Accepts lines like '2x Card Name (SET) 123', '2 Card Name', etc.\nconst regex=new RegExp(\"^\\\\s*\\\\d+x?\\\\s+\".concat(card.name.replace(/[.*+?^${}()|[\\]\\\\]/g,'\\\\$&'),\"(\\\\s*\\\\([^)]+\\\\))?(\\\\s+\").concat(card.collectorNumber,\")?\"),'i');return regex.test(line);});if(matchIdx!==-1){// Decrement the quantity in the matched line\nconst line=lines[matchIdx];const parts=line.match(/^(\\s*)(\\d+)(x?)\\s+(.+)$/);if(parts){const[,pre,qty,x,rest]=parts;const newQty=Math.max(1,parseInt(qty,10)-1);lines[matchIdx]=\"\".concat(pre).concat(newQty).concat(x,\" \").concat(rest);}}return lines.join('\\n');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[aboutOpen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.4)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:8,maxWidth:480,width:'90%',padding:32,boxShadow:'0 4px 32px rgba(0,0,0,0.2)',position:'relative'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAboutOpen(false),style:{position:'absolute',top:12,right:16,fontSize:22,background:'none',border:'none',cursor:'pointer',color:'#888'},\"aria-label\":\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontWeight:700,fontSize:24,marginBottom:16},children:\"About MTGtoPDF\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:16,color:'#333',lineHeight:1.6},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"MTGtoPDF is a free web tool for generating printable Magic: The Gathering decks as PDFs.\",/*#__PURE__*/_jsx(\"br\",{}),\"It was inspired by \",/*#__PURE__*/_jsx(\"a\",{href:\"https://mtgprint.cardtrader.com/\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"MTG Print\"}),\", a great service offered by CardTrader.\"]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:12},children:\"This site exists because I wanted a similar tool without the CardTrader branding baked into the output. I'm not trying to rip off MTG Print \\u2014 just needed a clean, simple solution for myself and figured others might appreciate it too.\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:12},children:\"The interface is intentionally familiar so friends and playgroups don't have to relearn how to print proxies. That said, we're not affiliated with MTG Print, CardTrader, Wizards of the Coast, or Hasbro in any way.\"}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:12},children:\"This is a personal project made with love for the MTG community. Use it responsibly, playtest ethically, and support the game however you can.\"})]})]})}),faqOpen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.4)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:8,maxWidth:540,width:'95%',maxHeight:'90vh',padding:32,boxShadow:'0 4px 32px rgba(0,0,0,0.2)',position:'relative',overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFaqOpen(false),style:{position:'absolute',top:12,right:16,fontSize:22,background:'none',border:'none',cursor:'pointer',color:'#888'},\"aria-label\":\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontWeight:700,fontSize:24,marginBottom:16},children:\"\\u2753 Frequently Asked Questions\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:16,color:'#333',lineHeight:1.7},children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDDA8 Some cards are getting cut off when I print the PDF.\"}),/*#__PURE__*/_jsx(\"div\",{children:\"That's usually a paper size mismatch. If you're printing on Letter but the PDF is set to A4 (or vice versa), the bottom row might get trimmed. Make sure your paper size matches in both the app and your printer settings.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDCCF The cards are printing smaller than real Magic cards.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"This means your print settings are scaling the page. Make sure the scale is set to \",/*#__PURE__*/_jsx(\"b\",{children:\"100%\"}),\" or \",/*#__PURE__*/_jsx(\"b\",{children:\"\\\"Actual Size\\\"\"}),\". Avoid options like \\\"Fit to Page\\\" or \\\"Shrink to Printable Area\\\" \\u2014 those will mess with sizing.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDDBC The image quality looks pixelated or blurry.\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Some card images (especially older or obscure ones) are only available in low resolution. For newer cards, image quality usually improves after a few days as higher-res versions become available. We're constantly updating.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83C\\uDCCF How do I print split cards like \\\"Expansion // Explosion\\\"?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Just type the full name with the double slash, like: \",/*#__PURE__*/_jsx(\"code\",{children:\"Expansion // Explosion\"}),\".\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83C\\uDF17 How do I print double-faced cards like \\\"Daybreak Ranger\\\"?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Enter either \",/*#__PURE__*/_jsx(\"code\",{children:\"Daybreak Ranger\"}),\" or \",/*#__PURE__*/_jsx(\"code\",{children:\"Daybreak Ranger // Nightfall Predator\"}),\". You'll only see the front in the preview, but the PDF will include both sides. At this time, there's no option to print just one side.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83E\\uDE99 Can I print tokens and emblems?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Yes. Type the name of the token or emblem \\u2014 like \",/*#__PURE__*/_jsx(\"code\",{children:\"Shark\"}),\" or \",/*#__PURE__*/_jsx(\"code\",{children:\"Chandra, Awakened Inferno Emblem\"}),\".\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83C\\uDFB4 Can I print card backs?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Yep. Just type \",/*#__PURE__*/_jsx(\"code\",{children:\"back\"}),\".\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDCDA Can I print a full set?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Yes, type the set code like \",/*#__PURE__*/_jsx(\"code\",{children:\"eld\"}),\" for Throne of Eldraine. Keep in mind that large sets may take a while to generate.\"]}),/*#__PURE__*/_jsx(\"hr\",{style:{margin:'24px 0'}}),/*#__PURE__*/_jsx(\"h3\",{style:{fontWeight:700,fontSize:20,marginBottom:8},children:\"\\uD83E\\uDDF0 Feature Options\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{paddingLeft:18,marginBottom:0},children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDD32 Crop Marks\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Adds small marks at the corners of each card to guide your cuts.\"]}),/*#__PURE__*/_jsxs(\"li\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDD33 Cut Lines\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Draws lines between cards to help with trimming.\"]}),/*#__PURE__*/_jsxs(\"li\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83C\\uDF3F Skip Basic Lands\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Removes all basic lands from your list. Great for saving space.\"]}),/*#__PURE__*/_jsxs(\"li\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\u2B1B Black Corners\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Adds black square corners to your cards. Only use this if you're printing black-bordered cards.\"]}),/*#__PURE__*/_jsxs(\"li\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDCC4 Print Decklist\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Adds a list of all cards at the end of the PDF \\u2014 handy for keeping track.\"]}),/*#__PURE__*/_jsxs(\"li\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\uD83D\\uDD12 Playtest Watermark\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Adds a faint \\\"Playtest Card\\\" watermark to the cards. This helps keep things legit. Wizards of the Coast allows proxies for casual play as long as they're clearly marked.\"]})]}),/*#__PURE__*/_jsx(\"hr\",{style:{margin:'24px 0'}}),/*#__PURE__*/_jsx(\"h3\",{style:{fontWeight:700,fontSize:20,marginBottom:8},children:\"\\uD83D\\uDCF1 Installing the App\"}),/*#__PURE__*/_jsx(\"b\",{children:\"Can I install mtg-pdf-printer like an app?\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Yes \\u2014 it's a Progressive Web App (PWA).\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{paddingLeft:18},children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"On \",/*#__PURE__*/_jsx(\"b\",{children:\"desktop\"}),\", click the install icon in your browser's address bar.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"On \",/*#__PURE__*/_jsx(\"b\",{children:\"iOS\"}),\", open in Safari, tap Share, then \\\"Add to Home Screen\\\".\"]})]})]})]})}),feedbackOpen&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100vw',height:'100vh',background:'rgba(0,0,0,0.4)',zIndex:1000,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:8,maxWidth:480,width:'90%',padding:32,boxShadow:'0 4px 32px rgba(0,0,0,0.2)',position:'relative',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFeedbackOpen(false),style:{position:'absolute',top:12,right:16,fontSize:22,background:'none',border:'none',cursor:'pointer',color:'#888'},\"aria-label\":\"Close\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{style:{fontWeight:700,fontSize:24,marginBottom:16},children:\"Send Feedback\"}),/*#__PURE__*/_jsx(\"a\",{href:\"mailto:feedback@mtgtopdf.com\",style:{fontSize:20,fontWeight:'bold',color:'#3366cc',textDecoration:'none',wordBreak:'break-word'},children:\"feedback@mtgtopdf.com\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:14,color:'#777',marginTop:24,textAlign:'center'},children:/*#__PURE__*/_jsx(\"a\",{href:\"https://www.buymeacoffee.com/gOZTM9e\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=gOZTM9e&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff\",alt:\"Buy me a coffee\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-3 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-gray-900\",children:\"MTGtoPDF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-6\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-gray-600 hover:text-gray-900 font-medium\",onClick:e=>{e.preventDefault();setAboutOpen(true);},children:\"About\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-gray-600 hover:text-gray-900 font-medium\",onClick:e=>{e.preventDefault();setFaqOpen(true);},children:\"FAQ\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-gray-600 hover:text-gray-900 font-medium\",onClick:e=>{e.preventDefault();setFeedbackOpen(true);},children:\"Send feedback\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"MTGtoPDF\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Generate print-ready PDFs from Magic: The Gathering decklists\"})]}),generatingPDF&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(DeckInput,{onDeckSubmit:handleDeckSubmit,loading:loading,loadingProgress:loadingProgress,decklistText:decklistText,setDecklistText:setDecklistText}),cards.length>0&&/*#__PURE__*/_jsx(PrintOptions,{cropMarks:cropMarks,setCropMarks:setCropMarks,cutLines:cutLines,setCutLines:setCutLines,blackCorners:blackCorners,setBlackCorners:setBlackCorners,skipBasicLands:skipBasicLands,setSkipBasicLands:setSkipBasicLands,printDecklist:printDecklist,setPrintDecklist:setPrintDecklist,playtestWatermark:playtestWatermark,setPlaytestWatermark:setPlaytestWatermark,paperSize:paperSize,setPaperSize:setPaperSize,scale:scale,setScale:setScale,onPrint:handleGeneratePDF,printing:generatingPDF,paperSizes:paperSizes})]}),errors.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Errors:\"}),errors.map((error,index)=>/*#__PURE__*/_jsx(\"p\",{children:error},index))]})}),cards.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"preview-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Card Preview (3x3 Grid)\"}),/*#__PURE__*/_jsx(CardGrid,{cards:cards,loading:loading,onSelectPrinting:handleSelectPrinting,onPrint:handleGeneratePDF,printing:generatingPDF,onAddOne:handleAddOne,onRemoveOne:handleRemoveOne})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"app-footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"footer-content\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 MTGtoPDF. Made with \\u2764\\uFE0F for Magic players.\"})})})]})]});}export default App;","map":{"version":3,"names":["React","useState","DeckInput","CardGrid","PrintOptions","parseDecklist","fetchMultipleCards","fetchAllPrintings","jsx","_jsx","jsxs","_jsxs","App","cards","setCards","loading","setLoading","loadingProgress","setLoadingProgress","current","total","message","generatingPDF","setGeneratingPDF","errors","setErrors","decklistText","setDecklistText","cropMarks","setCropMarks","cutLines","setCutLines","blackCorners","setBlackCorners","skipBasicLands","setSkipBasicLands","printDecklist","setPrintDecklist","playtestWatermark","setPlaytestWatermark","paperSize","setPaperSize","scale","setScale","aboutOpen","setAboutOpen","faqOpen","setFaqOpen","feedbackOpen","setFeedbackOpen","paperSizes","value","label","width","height","unit","handleDeckSubmit","parsedCards","length","results","fetchErrors","cardsWithPrintings","Promise","all","map","card","idx","concat","name","printings","prints_search_uri","e","selectedPrinting","find","p","set_name","set","collector_number","collectorNumber","cardWithPrintings","_objectSpread","id","released_at","imageUrl","backImageUrl","isDoubleFaced","frontName","backName","selectedPrintingId","finalCards","selected","canonicalDecklist","_card$printings$","_card$printings$2","qty","quantity","setCode","line","join","error","handleSelectPrinting","cardIdx","printingId","prevCards","prev","updatedCards","_card$printings$3","_card$printings$4","handleGeneratePDF","paper","response","fetch","method","headers","body","JSON","stringify","Number","options","ok","Error","blob","url","URL","createObjectURL","link","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","Spinner","style","display","flexDirection","alignItems","justifyContent","margin","children","className","border","borderTop","borderRadius","animation","marginTop","fontSize","color","fontWeight","handleAddOne","prevText","lines","split","matchIdx","findIndex","regex","RegExp","replace","test","parts","match","pre","x","rest","newQty","parseInt","push","handleRemoveOne","newQuantity","Math","max","position","top","left","background","zIndex","maxWidth","padding","boxShadow","onClick","right","cursor","marginBottom","lineHeight","target","rel","maxHeight","overflowY","paddingLeft","textAlign","textDecoration","wordBreak","src","alt","preventDefault","onDeckSubmit","onPrint","printing","index","onSelectPrinting","onAddOne","onRemoveOne"],"sources":["C:/MTG/mtg-pdf-printer/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport DeckInput from './components/DeckInput';\nimport CardGrid from './components/CardGrid';\nimport PrintOptions from './components/PrintOptions';\nimport { parseDecklist, fetchMultipleCards, fetchAllPrintings } from './utils/scryfall';\nimport './App.css';\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingProgress, setLoadingProgress] = useState({ current: 0, total: 0, message: '' });\n  const [generatingPDF, setGeneratingPDF] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const [decklistText, setDecklistText] = useState('');\n  \n  // Print options state - moved from inline controls to centralized state\n  const [cropMarks, setCropMarks] = useState(true);\n  const [cutLines, setCutLines] = useState(false);\n  const [blackCorners, setBlackCorners] = useState(true);\n  const [skipBasicLands, setSkipBasicLands] = useState(false);\n  const [printDecklist, setPrintDecklist] = useState(false);\n  const [playtestWatermark, setPlaytestWatermark] = useState(false);\n  const [paperSize, setPaperSize] = useState('letter');\n  const [scale, setScale] = useState('100');\n  const [aboutOpen, setAboutOpen] = useState(false);\n  const [faqOpen, setFaqOpen] = useState(false);\n  const [feedbackOpen, setFeedbackOpen] = useState(false);\n\n  // Paper size options (expanded and unified)\n  const paperSizes = [\n    { value: 'a4', label: 'A4 (21.0x29.7 cm)', width: 21.0, height: 29.7, unit: 'cm' },\n    { value: 'a3', label: 'A3 (42.0x29.7 cm)', width: 42.0, height: 29.7, unit: 'cm' },\n    { value: 'letter', label: 'Letter (8.5x11.0 in)', width: 8.5, height: 11.0, unit: 'in' },\n    { value: 'legal', label: 'Legal (14.0x8.5 in)', width: 14.0, height: 8.5, unit: 'in' },\n    { value: 'archA', label: 'Arch A (9.0x12.0 in)', width: 9.0, height: 12.0, unit: 'in' },\n    { value: 'archB', label: 'Arch B (18.0x12.0 in)', width: 18.0, height: 12.0, unit: 'in' },\n    { value: 'superB', label: 'Super B (13.0x19.0 in)', width: 13.0, height: 19.0, unit: 'in' },\n    { value: 'tabloid', label: 'Tabloid (11.0x17.0 in)', width: 11.0, height: 17.0, unit: 'in' },\n    { value: '4r', label: '4R (10.2x15.2 cm)', width: 10.2, height: 15.2, unit: 'cm' },\n  ];\n\n  const handleDeckSubmit = async (decklistText) => {\n    setLoading(true);\n    setErrors([]);\n    setCards([]);\n\n    try {\n      // Parse the decklist\n      const parsedCards = parseDecklist(decklistText);\n      if (parsedCards.length === 0) {\n        setErrors(['No valid cards found in the decklist. Please check the format.']);\n        setLoading(false);\n        return;\n      }\n\n      // Fetch card data from Scryfall with progress tracking\n      setLoadingProgress({ current: 0, total: parsedCards.length, message: 'Starting to load cards...' });\n      const { results, errors: fetchErrors } = await fetchMultipleCards(parsedCards, setLoadingProgress);\n      if (results.length === 0) {\n        setErrors(['No cards could be found. Please check the card names and try again.']);\n        setLoading(false);\n        return;\n      }\n\n      // For each card, fetch all printings and set up the card object\n      setLoadingProgress({ current: 0, total: results.length, message: 'Loading card printings...' });\n      const cardsWithPrintings = await Promise.all(results.map(async (card, idx) => {\n        // Update progress for printings phase\n        setLoadingProgress({\n          current: idx + 1,\n          total: results.length,\n          message: `Loading printings for ${card.name}...`\n        });\n        \n        let printings = [];\n        try {\n          if (card.prints_search_uri) {\n            printings = await fetchAllPrintings(card.prints_search_uri);\n          }\n        } catch (e) {\n          printings = [];\n        }\n        // Default to the originally loaded card\n        const selectedPrinting = printings.find(p => p.set_name === card.set && p.collector_number === card.collectorNumber) || printings[0];\n        const cardWithPrintings = {\n          ...card,\n          printings: printings.map(p => ({\n            id: p.id,\n            set_name: p.set_name,\n            collector_number: p.collector_number,\n            released_at: p.released_at,\n            imageUrl: p.imageUrl,\n            backImageUrl: p.backImageUrl,\n            isDoubleFaced: p.isDoubleFaced,\n            frontName: p.frontName,\n            backName: p.backName,\n          })),\n          selectedPrintingId: selectedPrinting ? selectedPrinting.id : null,\n        };\n        return cardWithPrintings;\n      }));\n\n      // Use direct Scryfall URLs\n      const finalCards = cardsWithPrintings.map(card => {\n        const selected = card.printings.find(p => p.id === card.selectedPrintingId) || card.printings[0];\n        const imageUrl = selected && selected.imageUrl ? selected.imageUrl : card.imageUrl;\n        const backImageUrl = selected && selected.backImageUrl ? selected.backImageUrl : card.backImageUrl;\n        const isDoubleFaced = selected ? selected.isDoubleFaced : card.isDoubleFaced;\n        const frontName = selected ? selected.frontName : card.frontName;\n        const backName = selected ? selected.backName : card.backName;\n        \n        return {\n          ...card,\n          imageUrl: imageUrl,\n          backImageUrl: backImageUrl,\n          isDoubleFaced: isDoubleFaced,\n          frontName: frontName,\n          backName: backName,\n        };\n      });\n\n      setCards(finalCards);\n\n      // Update decklistText to match the canonical preview\n      const canonicalDecklist = finalCards.map(card => {\n        const qty = card.quantity || 1;\n        const name = card.name;\n        const setCode = card.setCode || card.set || (card.printings && card.printings[0]?.set) || '';\n        const collectorNumber = card.collectorNumber || (card.printings && card.printings[0]?.collector_number) || '';\n        let line = `${qty}x ${name}`;\n        if (setCode && collectorNumber) {\n          line += ` (${setCode}) ${collectorNumber}`;\n        } else if (setCode) {\n          line += ` (${setCode})`;\n        } else if (collectorNumber) {\n          line += ` ${collectorNumber}`;\n        }\n        return line;\n      }).join('\\n');\n      setDecklistText(canonicalDecklist);\n\n      if (fetchErrors.length > 0) {\n        setErrors(fetchErrors);\n      }\n    } catch (error) {\n      setErrors([`Error loading cards: ${error.message}`]);\n    } finally {\n      setLoading(false);\n      setLoadingProgress({ current: 0, total: 0, message: '' });\n    }\n  };\n\n  // Handler for when a user selects a different printing\n  const handleSelectPrinting = (cardIdx, printingId) => {\n    setCards(prevCards => prevCards.map((card, idx) => {\n      if (idx !== cardIdx) return card;\n      const selected = card.printings.find(p => p.id === printingId) || card.printings[0];\n      const imageUrl = selected && selected.imageUrl ? selected.imageUrl : card.imageUrl;\n      const backImageUrl = selected && selected.backImageUrl ? selected.backImageUrl : card.backImageUrl;\n      const isDoubleFaced = selected ? selected.isDoubleFaced : card.isDoubleFaced;\n      const frontName = selected ? selected.frontName : card.frontName;\n      const backName = selected ? selected.backName : card.backName;\n      \n      return {\n        ...card,\n        selectedPrintingId: selected.id,\n        imageUrl: imageUrl,\n        backImageUrl: backImageUrl,\n        isDoubleFaced: isDoubleFaced,\n        frontName: frontName,\n        backName: backName,\n      };\n    }));\n    // Update decklistText to match the new printings\n    setDecklistText(prev => {\n      const updatedCards = cards.map((card, idx) => {\n        if (idx !== cardIdx) return card;\n        const selected = card.printings.find(p => p.id === printingId) || card.printings[0];\n        return {\n          ...card,\n          selectedPrintingId: selected.id,\n          imageUrl: selected && selected.imageUrl ? selected.imageUrl : card.imageUrl,\n          backImageUrl: selected && selected.backImageUrl ? selected.backImageUrl : card.backImageUrl,\n          isDoubleFaced: selected ? selected.isDoubleFaced : card.isDoubleFaced,\n          frontName: selected ? selected.frontName : card.frontName,\n          backName: selected ? selected.backName : card.backName,\n          setCode: selected.set,\n          collectorNumber: selected.collector_number,\n        };\n      });\n      return updatedCards.map(card => {\n        const qty = card.quantity || 1;\n        const name = card.name;\n        const setCode = card.setCode || card.set || (card.printings && card.printings[0]?.set) || '';\n        const collectorNumber = card.collectorNumber || (card.printings && card.printings[0]?.collector_number) || '';\n        let line = `${qty}x ${name}`;\n        if (setCode && collectorNumber) {\n          line += ` (${setCode}) ${collectorNumber}`;\n        } else if (setCode) {\n          line += ` (${setCode})`;\n        } else if (collectorNumber) {\n          line += ` ${collectorNumber}`;\n        }\n        return line;\n      }).join('\\n');\n    });\n  };\n\n  const handleGeneratePDF = async () => {\n    if (cards.length === 0) {\n      setErrors(['No cards to generate PDF for. Please load a decklist first.']);\n      return;\n    }\n    setGeneratingPDF(true);\n    setErrors([]);\n    try {\n      const paper = paperSizes.find(p => p.value === paperSize) || paperSizes[0];\n      const response = await fetch('/api/generate-pdf', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          cards,\n          paper,\n          scale: Number(scale),\n          options: {\n            cropMarks,\n            cutLines,\n            blackCorners,\n            skipBasicLands,\n            printDecklist,\n            playtestWatermark\n          }\n        })\n      });\n      if (!response.ok) throw new Error('Failed to generate PDF');\n      const blob = await response.blob();\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = 'mtg-deck.pdf';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      setErrors([`Error generating PDF: ${error.message}`]);\n    } finally {\n      setGeneratingPDF(false);\n    }\n  };\n\n  // Spinner component for PDF generation\n  function Spinner() {\n    return (\n      <div style={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        margin: '24px 0'\n      }}>\n        <div className=\"spinner\" style={{\n          width: 32,\n          height: 32,\n          border: '4px solid #e0e0e0',\n          borderTop: '4px solid #764ba2',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite'\n        }} />\n        <div style={{ marginTop: 12, fontSize: 18, color: '#764ba2', fontWeight: 600 }}>\n          Generating PDF...\n        </div>\n      </div>\n    );\n  }\n\n  // Add one to card quantity and update decklist text\n  const handleAddOne = (cardIdx) => {\n    setCards(prevCards => prevCards.map((card, idx) => {\n      if (idx !== cardIdx) return card;\n      return { ...card, quantity: (card.quantity || 1) + 1 };\n    }));\n\n    // Update decklist text\n    setDecklistText(prevText => {\n      const lines = prevText.split('\\n');\n      const card = cards[cardIdx];\n      if (!card) return prevText;\n      // Try to find a line that matches this card (by name, set, collector number)\n      const matchIdx = lines.findIndex(line => {\n        // Accepts lines like '2x Card Name (SET) 123', '2 Card Name', etc.\n        const regex = new RegExp(`^\\\\s*\\\\d+x?\\\\s+${card.name.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}(\\\\s*\\\\([^)]+\\\\))?(\\\\s+${card.collectorNumber})?`, 'i');\n        return regex.test(line);\n      });\n      if (matchIdx !== -1) {\n        // Increment the quantity in the matched line\n        const line = lines[matchIdx];\n        const parts = line.match(/^(\\s*)(\\d+)(x?)\\s+(.+)$/);\n        if (parts) {\n          const [, pre, qty, x, rest] = parts;\n          const newQty = parseInt(qty, 10) + 1;\n          lines[matchIdx] = `${pre}${newQty}${x} ${rest}`;\n        }\n      } else {\n        // Add a new line for this card\n        lines.push(`1 ${card.name}`);\n      }\n      return lines.join('\\n');\n    });\n  };\n\n  // Remove one from card quantity and update decklist text\n  const handleRemoveOne = (cardIdx) => {\n    setCards(prevCards => prevCards.map((card, idx) => {\n      if (idx !== cardIdx) return card;\n      const newQuantity = Math.max(1, (card.quantity || 1) - 1);\n      return { ...card, quantity: newQuantity };\n    }));\n\n    // Update decklist text\n    setDecklistText(prevText => {\n      const lines = prevText.split('\\n');\n      const card = cards[cardIdx];\n      if (!card) return prevText;\n      // Try to find a line that matches this card (by name, set, collector number)\n      const matchIdx = lines.findIndex(line => {\n        // Accepts lines like '2x Card Name (SET) 123', '2 Card Name', etc.\n        const regex = new RegExp(`^\\\\s*\\\\d+x?\\\\s+${card.name.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}(\\\\s*\\\\([^)]+\\\\))?(\\\\s+${card.collectorNumber})?`, 'i');\n        return regex.test(line);\n      });\n      if (matchIdx !== -1) {\n        // Decrement the quantity in the matched line\n        const line = lines[matchIdx];\n        const parts = line.match(/^(\\s*)(\\d+)(x?)\\s+(.+)$/);\n        if (parts) {\n          const [, pre, qty, x, rest] = parts;\n          const newQty = Math.max(1, parseInt(qty, 10) - 1);\n          lines[matchIdx] = `${pre}${newQty}${x} ${rest}`;\n        }\n      }\n      return lines.join('\\n');\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      {/* About Modal */}\n      {aboutOpen && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh',\n          background: 'rgba(0,0,0,0.4)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center'\n        }}>\n          <div style={{ background: 'white', borderRadius: 8, maxWidth: 480, width: '90%', padding: 32, boxShadow: '0 4px 32px rgba(0,0,0,0.2)', position: 'relative' }}>\n            <button onClick={() => setAboutOpen(false)} style={{ position: 'absolute', top: 12, right: 16, fontSize: 22, background: 'none', border: 'none', cursor: 'pointer', color: '#888' }} aria-label=\"Close\">√ó</button>\n            <h2 style={{ fontWeight: 700, fontSize: 24, marginBottom: 16 }}>About MTGtoPDF</h2>\n            <div style={{ fontSize: 16, color: '#333', lineHeight: 1.6 }}>\n              <p>MTGtoPDF is a free web tool for generating printable Magic: The Gathering decks as PDFs.<br/>It was inspired by <a href=\"https://mtgprint.cardtrader.com/\" target=\"_blank\" rel=\"noopener noreferrer\">MTG Print</a>, a great service offered by CardTrader.</p>\n              <p style={{ marginTop: 12 }}>This site exists because I wanted a similar tool without the CardTrader branding baked into the output. I'm not trying to rip off MTG Print ‚Äî just needed a clean, simple solution for myself and figured others might appreciate it too.</p>\n              <p style={{ marginTop: 12 }}>The interface is intentionally familiar so friends and playgroups don't have to relearn how to print proxies. That said, we're not affiliated with MTG Print, CardTrader, Wizards of the Coast, or Hasbro in any way.</p>\n              <p style={{ marginTop: 12 }}>This is a personal project made with love for the MTG community. Use it responsibly, playtest ethically, and support the game however you can.</p>\n            </div>\n          </div>\n        </div>\n      )}\n      {/* FAQ Modal */}\n      {faqOpen && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh',\n          background: 'rgba(0,0,0,0.4)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center'\n        }}>\n          <div style={{ background: 'white', borderRadius: 8, maxWidth: 540, width: '95%', maxHeight: '90vh', padding: 32, boxShadow: '0 4px 32px rgba(0,0,0,0.2)', position: 'relative', overflowY: 'auto' }}>\n            <button onClick={() => setFaqOpen(false)} style={{ position: 'absolute', top: 12, right: 16, fontSize: 22, background: 'none', border: 'none', cursor: 'pointer', color: '#888' }} aria-label=\"Close\">√ó</button>\n            <h2 style={{ fontWeight: 700, fontSize: 24, marginBottom: 16 }}>‚ùì Frequently Asked Questions</h2>\n            <div style={{ fontSize: 16, color: '#333', lineHeight: 1.7 }}>\n              <b>üñ® Some cards are getting cut off when I print the PDF.</b>\n              <div>That's usually a paper size mismatch. If you're printing on Letter but the PDF is set to A4 (or vice versa), the bottom row might get trimmed. Make sure your paper size matches in both the app and your printer settings.</div>\n              <br/>\n              <b>üìè The cards are printing smaller than real Magic cards.</b>\n              <div>This means your print settings are scaling the page. Make sure the scale is set to <b>100%</b> or <b>\"Actual Size\"</b>. Avoid options like \"Fit to Page\" or \"Shrink to Printable Area\" ‚Äî those will mess with sizing.</div>\n              <br/>\n              <b>üñº The image quality looks pixelated or blurry.</b>\n              <div>Some card images (especially older or obscure ones) are only available in low resolution. For newer cards, image quality usually improves after a few days as higher-res versions become available. We're constantly updating.</div>\n              <br/>\n              <b>üÉè How do I print split cards like \"Expansion // Explosion\"?</b>\n              <div>Just type the full name with the double slash, like: <code>Expansion // Explosion</code>.</div>\n              <br/>\n              <b>üåó How do I print double-faced cards like \"Daybreak Ranger\"?</b>\n              <div>Enter either <code>Daybreak Ranger</code> or <code>Daybreak Ranger // Nightfall Predator</code>. You'll only see the front in the preview, but the PDF will include both sides. At this time, there's no option to print just one side.</div>\n              <br/>\n              <b>ü™ô Can I print tokens and emblems?</b>\n              <div>Yes. Type the name of the token or emblem ‚Äî like <code>Shark</code> or <code>Chandra, Awakened Inferno Emblem</code>.</div>\n              <br/>\n              <b>üé¥ Can I print card backs?</b>\n              <div>Yep. Just type <code>back</code>.</div>\n              <br/>\n              <b>üìö Can I print a full set?</b>\n              <div>Yes, type the set code like <code>eld</code> for Throne of Eldraine. Keep in mind that large sets may take a while to generate.</div>\n              <hr style={{ margin: '24px 0' }}/>\n              <h3 style={{ fontWeight: 700, fontSize: 20, marginBottom: 8 }}>üß∞ Feature Options</h3>\n              <ul style={{ paddingLeft: 18, marginBottom: 0 }}>\n                <li><b>üî≤ Crop Marks</b><br/>Adds small marks at the corners of each card to guide your cuts.</li>\n                <li style={{ marginTop: 10 }}><b>üî≥ Cut Lines</b><br/>Draws lines between cards to help with trimming.</li>\n                <li style={{ marginTop: 10 }}><b>üåø Skip Basic Lands</b><br/>Removes all basic lands from your list. Great for saving space.</li>\n                <li style={{ marginTop: 10 }}><b>‚¨õ Black Corners</b><br/>Adds black square corners to your cards. Only use this if you're printing black-bordered cards.</li>\n                <li style={{ marginTop: 10 }}><b>üìÑ Print Decklist</b><br/>Adds a list of all cards at the end of the PDF ‚Äî handy for keeping track.</li>\n                <li style={{ marginTop: 10 }}><b>üîí Playtest Watermark</b><br/>Adds a faint \"Playtest Card\" watermark to the cards. This helps keep things legit. Wizards of the Coast allows proxies for casual play as long as they're clearly marked.</li>\n              </ul>\n              <hr style={{ margin: '24px 0' }}/>\n              <h3 style={{ fontWeight: 700, fontSize: 20, marginBottom: 8 }}>üì± Installing the App</h3>\n              <b>Can I install mtg-pdf-printer like an app?</b>\n              <div>Yes ‚Äî it's a Progressive Web App (PWA).</div>\n              <ul style={{ paddingLeft: 18 }}>\n                <li>On <b>desktop</b>, click the install icon in your browser's address bar.</li>\n                <li>On <b>iOS</b>, open in Safari, tap Share, then \"Add to Home Screen\".</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      )}\n      {/* Send Feedback Modal */}\n      {feedbackOpen && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100vw', height: '100vh',\n          background: 'rgba(0,0,0,0.4)', zIndex: 1000, display: 'flex', alignItems: 'center', justifyContent: 'center'\n        }}>\n          <div style={{\n            background: 'white', borderRadius: 8, maxWidth: 480, width: '90%', padding: 32,\n            boxShadow: '0 4px 32px rgba(0,0,0,0.2)', position: 'relative', textAlign: 'center'\n          }}>\n            <button onClick={() => setFeedbackOpen(false)} style={{\n              position: 'absolute', top: 12, right: 16, fontSize: 22,\n              background: 'none', border: 'none', cursor: 'pointer', color: '#888'\n            }} aria-label=\"Close\">√ó</button>\n\n            <h2 style={{ fontWeight: 700, fontSize: 24, marginBottom: 16 }}>Send Feedback</h2>\n\n            <a href=\"mailto:feedback@mtgtopdf.com\" style={{\n              fontSize: 20, fontWeight: 'bold', color: '#3366cc', textDecoration: 'none', wordBreak: 'break-word'\n            }}>\n              feedback@mtgtopdf.com\n            </a>\n\n            <p style={{ fontSize: 14, color: '#777', marginTop: 24, textAlign: 'center' }}>\n            <a href=\"https://www.buymeacoffee.com/gOZTM9e\"><img src=\"https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=gOZTM9e&button_colour=FFDD00&font_colour=000000&font_family=Cookie&outline_colour=000000&coffee_colour=ffffff\" alt=\"Buy me a coffee\" /></a>\n            </p>\n          </div>\n        </div>\n      )}\n      {/* Top header bar */}\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"container mx-auto px-4 py-3 flex justify-between items-center\">\n          <div className=\"text-xl font-bold text-gray-900\">MTGtoPDF</div>\n          <div className=\"flex space-x-6\">\n            <a href=\"#\" className=\"text-gray-600 hover:text-gray-900 font-medium\" onClick={e => { e.preventDefault(); setAboutOpen(true); }}>About</a>\n            <a href=\"#\" className=\"text-gray-600 hover:text-gray-900 font-medium\" onClick={e => { e.preventDefault(); setFaqOpen(true); }}>FAQ</a>\n            <a href=\"#\" className=\"text-gray-600 hover:text-gray-900 font-medium\" onClick={e => { e.preventDefault(); setFeedbackOpen(true); }}>Send feedback</a>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"container\">\n        <header className=\"app-header\">\n          <h1>MTGtoPDF</h1>\n          <p>Generate print-ready PDFs from Magic: The Gathering decklists</p>\n        </header>\n\n        {/* Show spinner above print options if generating PDF */}\n        {generatingPDF && <Spinner />}\n\n        <div className=\"card\">\n          <DeckInput\n            onDeckSubmit={handleDeckSubmit}\n            loading={loading}\n            loadingProgress={loadingProgress}\n            decklistText={decklistText}\n            setDecklistText={setDecklistText}\n          />\n          {/* PrintOptions component - only show if cards are loaded */}\n          {cards.length > 0 && (\n            <PrintOptions\n              cropMarks={cropMarks}\n              setCropMarks={setCropMarks}\n              cutLines={cutLines}\n              setCutLines={setCutLines}\n              blackCorners={blackCorners}\n              setBlackCorners={setBlackCorners}\n              skipBasicLands={skipBasicLands}\n              setSkipBasicLands={setSkipBasicLands}\n              printDecklist={printDecklist}\n              setPrintDecklist={setPrintDecklist}\n              playtestWatermark={playtestWatermark}\n              setPlaytestWatermark={setPlaytestWatermark}\n              paperSize={paperSize}\n              setPaperSize={setPaperSize}\n              scale={scale}\n              setScale={setScale}\n              onPrint={handleGeneratePDF}\n              printing={generatingPDF}\n              paperSizes={paperSizes}\n            />\n          )}\n        </div>\n\n        {errors.length > 0 && (\n          <div className=\"card\">\n            <div className=\"error\">\n              <h3>Errors:</h3>\n              {errors.map((error, index) => (\n                <p key={index}>{error}</p>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {cards.length > 0 && (\n          <div className=\"card\">\n            <div className=\"preview-section\">\n              <h2>Card Preview (3x3 Grid)</h2>\n              <CardGrid cards={cards} loading={loading} onSelectPrinting={handleSelectPrinting} onPrint={handleGeneratePDF} printing={generatingPDF} onAddOne={handleAddOne} onRemoveOne={handleRemoveOne} />\n            </div>\n          </div>\n        )}\n\n        <footer className=\"app-footer\">\n          <div className=\"footer-content\">\n            <p>&copy; 2024 MTGtoPDF. Made with ‚ù§Ô∏è for Magic players.</p>\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}